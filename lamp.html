<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>lamp</title>
  <meta name="author" content="automata">
  <meta name="description" content="A light bulb" />

  <link href="http://fonts.googleapis.com/css?family=Fredericka+the+Great" rel="stylesheet" type="text/css">

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
  <script src="http://meemoo.org/meemoo/v1/meemoo-min.js"></script>

  <script src="http://popcornjs.org/code/dist/popcorn-complete.js"></script>

  <style type="text/css">
  #light-bulb {
    background: url("lightbulb.png") no-repeat scroll -150px 0 transparent;
    height: 150px;
    width: 150px;
    z-index: 800;
    position: absolute;
    top: 0;
    left: 0;
  }

  #light-bulb2 {
    background: url("lightbulb.png") no-repeat scroll 0 0 transparent;
    height: 150px;
    width: 150px;
    float: left;
  }

  #display {
    font-family: 'Fredericka the Great', cursive;
    font-size: 28pt;
    padding: 0px;
    float: right;
    padding-left: 160px;
  }

  #display h1 {
    font-size: 32pt;
  }

  #control {
    bottom: 0;
    position: absolute;
    text-align: center;
    width: 100%;
  }
  
  #control li {
    color: #ddd;
    display: inline;
    padding: .2em;
    font-size: 26pt;

    cursor: hand;
    cursor: pointer;
  }
  </style>

</head>

<body>

  <div id="player"></div>
  <div id="display"></div>

  <div id="light-bulb">
    <div id="light-bulb2" style="opacity: 1;"></div>
  </div>

  <ul id="control">
    <li id="s1" onclick="goto(1, 1);">&#8226;</li>
    <li id="s2" onclick="goto(6, 2);">&#8226;</li>
    <li id="s3" onclick="goto(12, 3);">&#8226;</li>
    <li id="s4" onclick="goto(20, 4);">&#8226;</li>
    <li id="s5" onclick="goto(26, 5);">&#8226;</li>
    <li id="s6" onclick="goto(31, 6);">&#8226;</li>
    <li id="s7" onclick="goto(37, 7);">&#8226;</li>
    <li id="s8" onclick="goto(42, 8);">&#8226;</li>
    <li id="s9" onclick="goto(48, 9);">&#8226;</li>
    <li id="s10" onclick="goto(54, 10);">&#8226;</li>
    <li id="s11" onclick="goto(60, 11);">&#8226;</li>
    <li id="s12" onclick="goto(66, 12);">&#8226;</li>
    <li id="s13" onclick="goto(72, 13);">&#8226;</li>
  </ul>

  <script type="text/javascript">

    // popcorn baseplayer

    var popcorn;

    function goto(time, id) {
      // clear all bullets
      for (var i=1; i<12; i=i+1) {
         $("#s"+i).css("color", "#ddd");
      }
      // mark the current bullet
      $("#s"+id).css("color", "#000");

      // seek and pause
      popcorn.pause(time);                    
    }

    document.addEventListener("DOMContentLoaded", function() {

      // using a baseplayer (we don't need a video, just a timeline)
      Popcorn.player("baseplayer");

      popcorn = Popcorn.baseplayer("#player");
      //popcorn.play(0);
 
      // here the events triggered at specific times
      popcorn.footnote({
        start: 1,
        end: 5,
        target: "display",
        text: "Good job!"
      });
    
      popcorn.code({
        start: 1,
        end: 5,
        onStart: function () {
          $("#s1").css("color", "#000");
        },
        onEnd: function () {
          $("#s1").css("color", "#ddd");
        }
      });

      popcorn.footnote({
        start: 6,
        end: 11,
        target: "display",
        text: "You can disconnect dragging the wire's plug..."
      });

      popcorn.code({
        start: 6,
        end: 11,
        onStart: function (opt) {
           $("#s2").css("color", "#000");
           $("#light-bulb2").html("");
           $("#light-bulb").html("<img src=intro-gif1.gif />");
        },
        onEnd: function () {
          $("#s2").css("color", "#ddd");
        }                  
      }); 

      popcorn.footnote({
        start: 12,
        end: 19,
        target: "display",
        text: "and <b>refresh</b>, <b>detach</b> or <b>remove</b> a module."
      });

      popcorn.code({
        start: 12,
        end: 19,
        onStart: function (opt) {
           $("#s3").css("color", "#000");
           $("#light-bulb2").html("");
           $("#light-bulb").html("<img src=intro-gif2.gif />");
        },
        onEnd: function () {
          $("#s3").css("color", "#ddd");
        }
      }); 

      popcorn.footnote({
        start: 20,
        end: 25,
        target: "display",
        text: "To insert a new node, try the <b>module</b> menu at top."
      });

      popcorn.code({
        start: 20,
        end: 25,
        onStart: function (opt) {
           $("#s4").css("color", "#000");
           $("#light-bulb2").html("");
           $("#light-bulb").html("<img src=intro-gif3.gif />");
        },
        onEnd: function () {
          $("#s4").css("color", "#ddd");
        }
      }); 

      popcorn.footnote({
        start: 26,
        end: 30,
        target: "display",
        text: "The modules are classified in categories."
      });

      popcorn.code({
        start: 26,
        end: 30,
        onStart: function (opt) {
           $("#s5").css("color", "#000");
           $("#light-bulb2").html("");
           $("#light-bulb").html("<img src=intro-gif4.gif />");
        },
        onEnd: function () {
          $("#s5").css("color", "#ddd");
        }
      }); 

      popcorn.footnote({
        start: 31,
        end: 36,
        target: "display",
        text: "Choose the module you want and drag it in an empty area."
      });

      popcorn.code({
        start: 31,
        end: 36,
        onStart: function () {
          $("#s6").css("color", "#000");
        },
        onEnd: function () {
          $("#s6").css("color", "#ddd");
        }
      });


      popcorn.footnote({
        start: 37,
        end: 41,
        target: "display",
        text: "At the <b>source</b> menu you can see the app code."
      });

      popcorn.code({
        start: 37,
        end: 41,
        onStart: function (opt) {
           $("#s7").css("color", "#000");
           $("#light-bulb2").html("");
           $("#light-bulb").html("<img src=intro-gif5.gif />");
        },
        onEnd: function () {
          $("#s7").css("color", "#ddd");
        }
      }); 

      popcorn.footnote({
        start: 42,
        end: 47,
        target: "display",
        text: "And at the <b>app</b> menu you can save your app..."
      });

      popcorn.code({
        start: 42,
        end: 47,
        onStart: function (opt) {
           $("#s8").css("color", "#000");
           $("#light-bulb2").html("");
           $("#light-bulb").html("<img src=intro-gif6.gif />");
        },
        onEnd: function () {
          $("#s8").css("color", "#ddd");
        }
      }); 

      popcorn.footnote({
        start: 48,
        end: 53,
        target: "display",
        text: "and share as a <b>gist</b>, on <b>facebook</b> or <b>twitter</b>."
      });

      popcorn.code({
        start: 48,
        end: 53,
        onStart: function (opt) {
           $("#s9").css("color", "#000");
           $("#light-bulb2").html("");
           $("#light-bulb").html("<img src=intro-gif7.gif />");
        },
        onEnd: function () {
          $("#s9").css("color", "#ddd");
        }
      }); 

      popcorn.footnote({
        start: 54,
        end: 59,
        target: "display",
        text: "There are lots of <b>example apps</b> to explore."
      });

      popcorn.code({
        start: 54,
        end: 59,
        onStart: function (opt) {
           $("#s10").css("color", "#000");
           $("#light-bulb2").html("");
           $("#light-bulb").html("<img src=intro-gif8.gif />");
        },
        onEnd: function () {
          $("#s10").css("color", "#ddd");
        }
      }); 

      popcorn.footnote({
        start: 60,
        end: 65,
        target: "display",
        text: "Now you know everything to start using Meemoo!"
      });

      popcorn.code({
        start: 60,
        end: 65,
        onStart: function () {
          $("#s11").css("color", "#000");
        },
        onEnd: function () {
          $("#s11").css("color", "#ddd");
        }
      });


      popcorn.footnote({
        start: 66,
        end: 71,
        target: "display",
        text: "Explore! Open an example app, hack it and share!"
      });

      popcorn.code({
        start: 66,
        end: 71,
        onStart: function () {
          $("#s12").css("color", "#000");
        },
        onEnd: function () {
          $("#s12").css("color", "#ddd");
        }
      });


      popcorn.footnote({
        start: 72,
        target: "display",
        text: "Good <b>hack</b>!"
      });

      popcorn.code({
        start: 72,
        onStart: function (opt) {
           $("#s13").css("color", "#000");
           $("#light-bulb2").html("");
        },
        onEnd: function () {
          $("#s13").css("color", "#ddd");
        }
      }); 


    });

    // on/off the light bulb

    var lightbulb = $("#light-bulb");
    var lightbulb2 = $("#light-bulb2"); 
    lightbulb2.fadeTo(0,0);

    Meemoo.setInfo({
      title: "lamp",
      author: "automata",
      description: "A light bulb"
    }).addInputs({
      in: {
        action: function (state) {

    if (state == 1) {
      lightbulb.removeClass("off");
      lightbulb2.stop().fadeTo(750,1);
      popcorn.play();
    } else {
      lightbulb.addClass("off");
      lightbulb2.stop().fadeTo(750,0);
    }

        },
        type: "number"
      }
    });
  </script>
</body>
</html>
